<hr>
<p>robots: noindex,nofollow<br>sitemap: false<br>layout: page<br>group: docs-v4<br>meta:<br>  header: [centertitle]<br>sidebar: [docs-v4, toc, repos]<br>order: 401<br>short_title: 4-1 页面布局模板</p>
<hr>
<h2 id="布局模板"><a href="#布局模板" class="headerlink" title="布局模板"></a>布局模板</h2><p>{% table %}<br>| 取值  | 含义  |<br>| :—– | :—-  |<br>| page | 独立页面 |<br>| post | 文章页面 |<br>| docs | 文档页面 |<br>| category | 分类页面 |<br>| tag | 标签页面 |<br>| friends | 友链页面 |<br>| list | 列表页面 |<br>{% endtable %}</p>
<h2 id="page-amp-post-amp-docs"><a href="#page-amp-post-amp-docs" class="headerlink" title="page &amp; post &amp; docs"></a>page &amp; post &amp; docs</h2><p>这三种页面相同，但是有以下细微区别：</p>
<ul>
<li>post 文章有 title 时，向下滚动网页，导航栏会向上移出屏幕显出文章标题，而 page 和 docs 不会。</li>
<li>post 文章末尾最多可以显示「参考资料」、「相关文章」、「版权标识」、「打赏」四个模块。</li>
<li>docs 文章末尾最多可以显示「参考资料」一个模块。</li>
</ul>
<p>除了归档页面是自动生成的，其它独立页面都需要手动创建 md 文件。</p>
<h2 id="归档页面"><a href="#归档页面" class="headerlink" title="归档页面"></a>归档页面</h2><p>归档页面是自动生成的，并且初始化的时候已经生成，路径如下：</p>
<pre><code class="yaml"># Directory
archive_dir: archives</code></pre>
<h2 id="关于页面"><a href="#关于页面" class="headerlink" title="关于页面"></a>关于页面</h2><pre><code class="yaml">---
layout: docs
seo_title: 关于
bottom_meta: false
sidebar: []
valine:
  placeholder: 有什么想对我说的呢？
---

下面写关于自己的内容
</code></pre>
<h2 id="分类页面"><a href="#分类页面" class="headerlink" title="分类页面"></a>分类页面</h2><pre><code class="yaml">---
layout: category
index: true
title: 所有分类
---</code></pre>
<h2 id="标签页面"><a href="#标签页面" class="headerlink" title="标签页面"></a>标签页面</h2><pre><code class="yaml">---
layout: tag
index: true
title: 所有标签
---</code></pre>
<h2 id="列表页面"><a href="#列表页面" class="headerlink" title="列表页面"></a>列表页面</h2><pre><code class="yaml">---
layout: list
group: mylist
index: true
---</code></pre>
<p>结果就是筛选出所有文章中 <code>front-matter</code> 部分含有 <code>group: mylist</code> 的文章。</p>
<h2 id="友链页面"><a href="#友链页面" class="headerlink" title="友链页面"></a>友链页面</h2><h3 id="创建页面文件"><a href="#创建页面文件" class="headerlink" title="创建页面文件"></a>创建页面文件</h3><pre><code class="yaml">---
layout: friends # 必须
title: 我的朋友们 # 可选，这是友链页的标题
---

这里写友链上方的内容。

&lt;!-- more --&gt;

这里可以写友链页面下方的文字备注，例如自己的友链规范、示例等。
</code></pre>
<h3 id="选择布局方案"><a href="#选择布局方案" class="headerlink" title="选择布局方案"></a>选择布局方案</h3><p>在主题配置文件中找到以下内容：</p>
<pre><code class="yaml">pages:
  # 友链页面配置
  friends:
    layout_scheme: traditional # simple: 简单布局, traditional: 传统布局,  sites: 网站卡片布局</code></pre>
<p>目前提供三种布局方案：</p>
<ul>
<li>simple: 简单布局，只有头像和标题。</li>
<li>traditional: 传统布局，是 Volantis 旧版本的风格。</li>
<li>sites: 网站卡片布局，是 Volantis 4.x 新增的网站卡片标签的样式。</li>
</ul>
<h3 id="设置数据源"><a href="#设置数据源" class="headerlink" title="设置数据源"></a>设置数据源</h3><p>{% tabs about, 1 %}</p>
<!-- tab 静态数据源 -->

<p>友链的数据源写在以下路径，如果没有请自行创建：</p>
<pre><code>blog/source/_data/friends.yml</code></pre>
<p>内容格式为：</p>
<pre><code class="yaml">- group: # 分组标题
  description:  # 分组描述
  items:
    - title: # 名称
      avatar: # 头像
      url: # 链接
      screenshot: # 截图
      keywords: # 关键词
      description: # 描述
    - title: # 名称
      avatar: # 头像
      url: # 链接
      screenshot: # 截图
      keywords: # 关键词
      description: # 描述</code></pre>
<p>不同的布局方式，会用到一部分的字段，一般来说，<code>title</code>、<code>avatar</code> 和 <code>url</code> 都是必须的。这些数据被转成 HTML 标签插入到友链页面的 <code>&lt;!-- more --&gt;</code> 部分。</p>
<!-- endtab -->

<!-- tab 动态数据源 -->

<p>使用 issues 标签可以从 issues 中获取 JSON 数据解析并生成 HTML 填充到页面中，使用方法如下：</p>
<pre><code>{% issues sites | api=https://api.github.com/repos/xaoxuu/friends/issues?sort=updated&amp;state=open&amp;page=1&amp;per_page=100&amp;labels=active %}</code></pre>
<p>这样添加友链的方式就变成了：对方提 Issue ，自己审核，然后添加 <code>active</code> 标签，然后刷新网页就生效了。更新友链内容也变得十分方便， Issue 的创建者拥有修改和关闭的权限。</p>
<p>新建一个 GitHub 或者 Gitee 仓库，创建 Issues 模板，如下：</p>
<pre><code class="json">{
    &quot;title&quot;: &quot;&quot;,
    &quot;screenshot&quot;: &quot;&quot;,
    &quot;url&quot;: &quot;&quot;,
    &quot;avatar&quot;: &quot;&quot;,
    &quot;description&quot;: &quot;&quot;,
    &quot;keywords&quot;: &quot;&quot;
}</code></pre>
<p>关于如何使用 issues 标签，详见这篇文章：</p>
<p>{% link 静态博客使用 Issues API 发布动态、友链、书签, <a href="https://xaoxuu.com/blog/2020-08-23-issues-api/">https://xaoxuu.com/blog/2020-08-23-issues-api/</a> %}</p>
<!-- endtab -->

<p>{% endtabs %}</p>
<p>{% noteblock idea, 建议 %}</p>
<ul>
<li>两者是可以同时使用的哦，建议开放 issues 友链给大家，常联系的自己再保存到静态友链。</li>
<li>实测 GitHub API 速度和稳定性不如 Gitee ，如果追求稳定建议使用 Gitee。</li>
</ul>
<p>{% endnoteblock %}</p>
<h2 id="404页面"><a href="#404页面" class="headerlink" title="404页面"></a>404页面</h2><pre><code class="yaml">---
cover: true
robots: noindex,nofollow
sitemap: false
seo_title: 404 Not Found
bottom_meta: false
sidebar: []
valine:
  path: /404.html
  placeholder: 请留言告诉我您要访问哪个页面找不到了
---

{% p logo center huge, 404 %}
{% p center bold, 很抱歉，您访问的页面不存在 %}
{% p center small, 可能是输入地址有误或该地址已被删除 %}
</code></pre>
